BEGIN TRANSACTION;
GO

ALTER TABLE [Armas] ADD [PersonagemId] int NOT NULL DEFAULT 0;
GO

IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Dano', N'Nome', N'PersonagemId') AND [object_id] = OBJECT_ID(N'[Armas]'))
    SET IDENTITY_INSERT [Armas] ON;
INSERT INTO [Armas] ([Id], [Dano], [Nome], [PersonagemId])
VALUES (1, 35, N'Arco e Flecha', 1),
(2, 33, N'Espada', 2),
(3, 31, N'Machado', 3);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Dano', N'Nome', N'PersonagemId') AND [object_id] = OBJECT_ID(N'[Armas]'))
    SET IDENTITY_INSERT [Armas] OFF;
GO

UPDATE [Usuarios] SET [PasswordHash] = 0xE7EAC5565EC85E0B31B639028302ED6A4DD087F8A5541CD4EFB7046B834CD70C88437719867E82560126286A3C81CECBFF6E3101D48D2DDAD7C36CF0D899EE46, [PasswordSalt] = 0x37C8E089A091DFF0549BC5C31BF360BBA41E5C6CAA67423D580BCB67FC273A76453229C258F26BA0E394725F599E146A23477BBC4F33DC2B231C461A0C17E227FBF449B0885840C0463E4B71C02AF0BCB445C86D344AF5282B702A6642AF8E8A31D0522CB0CBF7BC81EE24F6E84FDCEB52A54FDDA1E83FC170D8732155B181AA
WHERE [Id] = 1;
SELECT @@ROWCOUNT;

GO

CREATE INDEX [IX_Armas_PersonagemId] ON [Armas] ([PersonagemId]);
GO

ALTER TABLE [Armas] ADD CONSTRAINT [FK_Armas_Personagens_PersonagemId] FOREIGN KEY ([PersonagemId]) REFERENCES [Personagens] ([Id]) ON DELETE CASCADE;
GO

INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20220408011521_MigracaoUmParaUm', N'5.0.15');
GO

COMMIT;
GO

